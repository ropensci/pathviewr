<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get instantaneous velocity for subjects — get_velocity • pathviewr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get instantaneous velocity for subjects — get_velocity"><meta property="og:description" content="Velocity (both overall and per-axis) is computed for each row in the data
(see Details)"><meta property="og:image" content="https://docs.ropensci.org/pathviewr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pathviewr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/data-import-cleaning.html">Basics of data import and cleaning in pathviewr</a>
    </li>
    <li>
      <a href="../articles/managing-frame-gaps.html">Managing frame gaps with pathviewr</a>
    </li>
    <li>
      <a href="../articles/visual-perception-functions.html">Estimating visual perceptions from tracking data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ropensci/pathviewr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get instantaneous velocity for subjects</h1>
    <small class="dont-index">Source: <a href="https://github.com/ropensci/pathviewr/blob/HEAD/R/analytical_functions.R" class="external-link"><code>R/analytical_functions.R</code></a></small>
    <div class="hidden name"><code>get_velocity.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Velocity (both overall and per-axis) is computed for each row in the data
(see Details)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_velocity</span><span class="op">(</span>
  <span class="va">obj_name</span>,
  time_col <span class="op">=</span> <span class="st">"time_sec"</span>,
  length_col <span class="op">=</span> <span class="st">"position_length"</span>,
  width_col <span class="op">=</span> <span class="st">"position_width"</span>,
  height_col <span class="op">=</span> <span class="st">"position_height"</span>,
  add_to_viewr <span class="op">=</span> <span class="cn">TRUE</span>,
  velocity_min <span class="op">=</span> <span class="cn">NA</span>,
  velocity_max <span class="op">=</span> <span class="cn">NA</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>obj_name</dt>
<dd><p>The input viewr object; a tibble or data.frame with attribute
<code>pathviewr_steps</code> that includes <code>"viewr"</code></p></dd>


<dt>time_col</dt>
<dd><p>Name of the column containing time</p></dd>


<dt>length_col</dt>
<dd><p>Name of the column containing length dimension</p></dd>


<dt>width_col</dt>
<dd><p>Name of the column containing width dimension</p></dd>


<dt>height_col</dt>
<dd><p>Name of the column containing height dimension</p></dd>


<dt>add_to_viewr</dt>
<dd><p>Default TRUE; should velocity data be added as new
columns or should this function create a new simpler object?</p></dd>


<dt>velocity_min</dt>
<dd><p>Should data below a certain velocity be filtered out of
the object? If so, enter a numeric. If not, keep NA.</p></dd>


<dt>velocity_max</dt>
<dd><p>Should data above a certain velocity be filtered out of
the object? If so, enter a numeric. If not, keep NA.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed to or from other pathviewr functions.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>If <code>add_to_viewr</code> is <code>TRUE</code>, additional columns are
appended to the input viewr object. If <code>FALSE</code>, a standalone tibble is
created. Either way, an "instantaneous" velocity is computed as the
difference in position divided by the difference in time as each successive
row is encountered. Additionally, velocities along each of the three
position axes are computed and provided as additional columns.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Instantaneous velocity is not truly "instantaneous" but rather is
approximated as the change in distance divided by change in time from one
observation (row) to the previous observation (row). Each component of
velocity is computed (i.e. per axis) along with the overall velocity of
the subject.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other mathematical functions: 
<code><a href="calc_min_dist_v.html">calc_min_dist_v</a>()</code>,
<code><a href="deg_2_rad.html">deg_2_rad</a>()</code>,
<code><a href="find_curve_elbow.html">find_curve_elbow</a>()</code>,
<code><a href="get_2d_angle.html">get_2d_angle</a>()</code>,
<code><a href="get_3d_angle.html">get_3d_angle</a>()</code>,
<code><a href="get_3d_cross_prod.html">get_3d_cross_prod</a>()</code>,
<code><a href="get_dist_point_line.html">get_dist_point_line</a>()</code>,
<code><a href="get_traj_velocities.html">get_traj_velocities</a>()</code>,
<code><a href="rad_2_deg.html">rad_2_deg</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Vikram B. Baliga and Melissa S. Armstrong</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">## Import the example Motive data included in the package</span></span>
<span class="r-in"><span class="va">motive_data</span> <span class="op">&lt;-</span></span>
<span class="r-in">  <span class="fu"><a href="read_motive_csv.html">read_motive_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"pathviewr_motive_example_data.csv"</span>,</span>
<span class="r-in">                             package <span class="op">=</span> <span class="st">'pathviewr'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Clean the file. It is generally recommended to clean up to the</span></span>
<span class="r-in"><span class="co">## "standarization" step before running get_velocity().</span></span>
<span class="r-in"> <span class="va">motive_cleaned</span> <span class="op">&lt;-</span></span>
<span class="r-in">   <span class="va">motive_data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu"><a href="relabel_viewr_axes.html">relabel_viewr_axes</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu"><a href="gather_tunnel_data.html">gather_tunnel_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu"><a href="trim_tunnel_outliers.html">trim_tunnel_outliers</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu"><a href="rotate_tunnel.html">rotate_tunnel</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Now compute velocity and add as columns</span></span>
<span class="r-in"> <span class="va">motive_velocity_added</span> <span class="op">&lt;-</span></span>
<span class="r-in">   <span class="va">motive_cleaned</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu">get_velocity</span><span class="op">(</span>add_to_viewr <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Or set add_to_viewr to FALSE for a standalone object</span></span>
<span class="r-in"> <span class="va">motive_velocity_standalone</span> <span class="op">&lt;-</span></span>
<span class="r-in">   <span class="va">motive_cleaned</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu">get_velocity</span><span class="op">(</span>add_to_viewr <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.vikram-baliga.com/" class="external-link">Vikram B. Baliga</a>, <a href="https://melissasarmstrong.com" class="external-link">Melissa S. Armstrong</a>, <a href="https://www.grad.ubc.ca/campus-community/meet-our-students/press-eric" class="external-link">Eric R. Press</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer></div>

  


  

  </body></html>

